<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Aviatrix Iteration 1: Destinations - Kode With Klossy Curriculum</title>

<link rel="apple-touch-icon" sizes="57x57" href="https://ameseee.github.io/kwk-curriculum-site/assets/favicons/kwk-logo.png">
<link rel="apple-touch-icon" sizes="60x60" href="https://ameseee.github.io/kwk-curriculum-site/assets/favicons/kwk-logo.png">
<link rel="apple-touch-icon" sizes="72x72" href="https://ameseee.github.io/kwk-curriculum-site/assets/favicons/kwk-logo.png">
<link rel="apple-touch-icon" sizes="76x76" href="https://ameseee.github.io/kwk-curriculum-site/assets/favicons/kwk-logo.png">
<link rel="apple-touch-icon" sizes="114x114" href="https://ameseee.github.io/kwk-curriculum-site/assets/favicons/kwk-logo.png">
<link rel="apple-touch-icon" sizes="120x120" href="https://ameseee.github.io/kwk-curriculum-site/assets/favicons/kwk-logo.png">
<link rel="apple-touch-icon" sizes="144x144" href="https://ameseee.github.io/kwk-curriculum-site/assets/favicons/kwk-logo.png">
<link rel="apple-touch-icon" sizes="152x152" href="https://ameseee.github.io/kwk-curriculum-site/assets/favicons/kwk-logo.png">
<link rel="apple-touch-icon" sizes="180x180" href="https://ameseee.github.io/kwk-curriculum-site/assets/favicons/kwk-logo.png">
<link rel="icon" type="image/png" sizes="192x192" href="https://ameseee.github.io/kwk-curriculum-site/assets/favicons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://ameseee.github.io/kwk-curriculum-site/assets/favicons/kwk-logo.png">
<link rel="icon" type="image/png" sizes="96x96" href="https://ameseee.github.io/kwk-curriculum-site/assets/favicons/kwk-logo.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://ameseee.github.io/kwk-curriculum-site/assets/favicons/kwk-logo.png">
<link rel="shortcut icon" type="image/png" href="https://ameseee.github.io/kwk-curriculum-site/assets/favicons/kwk-logo.png">
<link rel="manifest" href="https://ameseee.github.io/kwk-curriculum-site/swift-ios/projects/aviatrix/assets/favicons/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<meta content="Aviatrix Iteration 1: Destinations - Kode With Klossy Curriculum" name="title">
<meta content="Aviatrix Iteration 1: Destinations - Kode With Klossy Curriculum" name="og:title">


  <meta content="https://ameseee.github.io/kwk-curriculum-site" property="og:url">
  <meta content="Open source curriculum for the Kode With Klossy's 2019 WebDev and Mobile camps." property="og:description">
  <meta content="blog" property="og:type">


<link href="OliviaAviatrixI1_files/css.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="OliviaAviatrixI1_files/reset.css">
<link rel="stylesheet" type="text/css" href="OliviaAviatrixI1_files/styles-2017121801.css">
<script src="OliviaAviatrixI1_files/jquery-3.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
  <script type="text/javascript" src="OliviaAviatrixI1_files/navigation.js"></script>

  </head>

  <body>
    <div class="container">
      <section class="sidebar">
        
        <nav class="sidebar-navigation">
  <section class="sidebar-navigation-logo">
    <h1 class="main-h1">
      <a class="home" href="https://ameseee.github.io/kwk-curriculum-site">
        <img class="kwk-logo" src="OliviaAviatrixI1_files/kwk-logo.png" alt="Kode With Klossy logo">
      </a>
    </h1>
  </section>
  <div class="sidebar-navigation--links">
    <div class="web-app-drop-down">
      <h2>
        <a class="curriculum-links web-app-menu" href="https://ameseee.github.io/kwk-curriculum-site/web-app/">WebDev</a>
      </h2>
      <ul class="web-app-options" style="display: none;">
        <li><a class="web-app-option" href="https://ameseee.github.io/kwk-curriculum-site/web-app/lessons/">Lessons</a></li>
        <li><a class="web-app-option" href="https://ameseee.github.io/kwk-curriculum-site/web-app/projects/">Projects</a></li>
        <li><a class="web-app-option" href="https://ameseee.github.io/kwk-curriculum-site/web-app/calendar/">Calendar</a></li>
      </ul>
    </div>
    <div class="mobile-app-drop-down">
      <h2>
        <a class="curriculum-links mobile-app-menu active-link" href="https://ameseee.github.io/kwk-curriculum-site/swift-ios/">Mobile</a>
      </h2>
      <ul class="mobile-app-options" style="display: none;">
        <li><a class="mobile-app-option" href="https://ameseee.github.io/kwk-curriculum-site/swift-ios/lessons/">Lessons</a></li>
        <li><a class="mobile-app-option" href="https://ameseee.github.io/kwk-curriculum-site/swift-ios/projects/">Projects</a></li>
        <li><a class="mobile-app-option" href="https://ameseee.github.io/kwk-curriculum-site/swift-ios/calendar/">Calendar</a></li>
      </ul>
    </div>
  </div>
</nav>

      </section>
      <section class="content">
        <article>
          <header>
            <h1>
              Aviatrix Iteration 1: Destinations
              <small></small>
            </h1>
          </header>
            <h1 id="aviatrix-iteration-1-destinations">Aviatrix Iteration 1: Destinations</h1>

<p>As you can see in the <code class="highlighter-rouge">main.swift</code>
 file, our plane should be able to fly places. But right now, all it can
 do is stay on the runway in St. Louis. Let’s build up the functionality
 to move between cities.</p>

<h2 id="what-were-going-for">What We’re Going For</h2>

<p>When this iteration is done, we should be able to fly between known cities. When we run the program and type in <code class="highlighter-rouge">b</code> to fly, we want to eventually see an output something like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Where would you like to fly to?

0<span class="o">)</span> St. Louis <span class="o">(</span>0 miles<span class="o">)</span>
1<span class="o">)</span> Phoenix <span class="o">(</span>1260 miles<span class="o">)</span>
2<span class="o">)</span> Denver <span class="o">(</span>768 miles<span class="o">)</span>
3<span class="o">)</span> Salt Lake City <span class="o">(</span>1150 miles<span class="o">)</span>

Destination Number:
</code></pre></div></div>

<h2 id="the-data">The Data</h2>

<p>Open the <code class="highlighter-rouge">AviatrixData</code> file and check out the data that’s in there. You should find:</p>

<ul>
  <li><code class="highlighter-rouge">fuelPrices</code> - in a later iteration we’ll work on purchasing fuel. At that time we’ll need this collection of fuel prices.</li>
  <li><code class="highlighter-rouge">knownDistances</code> - this is a 
huge dictionary that defines the distances between the supported cities 
where each city marker points to another dictionary. The second-level 
dictionary has the cities you could fly to along with the distance to 
get there.</li>
</ul>

<h2 id="building-the-menu">Building the Menu</h2>

<p>Right now when we type in <code class="highlighter-rouge">b</code> for the fly menu we just see:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Action: b

Where would you like to fly to?

0: St. Louis <span class="o">()</span> miles
</code></pre></div></div>

<p>Let’s work on displaying more destinations.</p>

<h3 id="looking-at-mainswift">Looking at <code class="highlighter-rouge">main.swift</code></h3>

<p>The <code class="highlighter-rouge">fly</code> function in <code class="highlighter-rouge">main.swift</code> (around line 20) is what’s outputting this menu. It’s some of the more complicated code in the <code class="highlighter-rouge">main.swift</code> file, but we can pick it apart piece by piece.</p>

<p>On the third line of the <code class="highlighter-rouge">fly</code> function we can see it’s calling <code class="highlighter-rouge">myPlane.knownDestinations</code> and below, iterating over that array. We need to modify the return value of <code class="highlighter-rouge">knownDestinations</code> function (which lives in <code class="highlighter-rouge">Aviatrix</code>).</p>

<div class="try-it">
  <h2>Class Discussion</h2>
  <p>How is it that we are able to call an action from the <code class="try-it-code">Aviatrix</code> class inside of this <code class="try-it-code">main.swift</code> file?</p>
</div>

<h3 id="knowndestinations"><code class="highlighter-rouge">knownDestinations</code></h3>

<p>We want to have the <code class="highlighter-rouge">knownDestinations</code> function return an array like this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>["St. Louis", "Phoenix", "Denver", "SLC"]
</code></pre></div></div>

<blockquote>
  <p>Change the return value of the <code class="highlighter-rouge">knownDestinations</code> function so that it returns the array of all 4 cities.</p>
</blockquote>

<h4 id="results">Results</h4>

<p>If you get that function right and run the program, you’ll get output like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Action: b

Where would you like to fly to?

0<span class="o">)</span> St. Louis <span class="o">(</span>0 miles<span class="o">)</span>
1<span class="o">)</span> Phoenix <span class="o">(</span>0 miles<span class="o">)</span>
2<span class="o">)</span> Denver <span class="o">(</span>0 miles<span class="o">)</span>
3<span class="o">)</span> Salt Lake City <span class="o">(</span>0 miles<span class="o">)</span>
</code></pre></div></div>

<p>We’ve got the city names and next want to add in the distances.</p>

<h3 id="distance-to-destination">Distance to Destination</h3>

<p>In <code class="highlighter-rouge">main.swift</code> we can find the line that outputs that distance. It relies on the variable <code class="highlighter-rouge">distance</code> that was created inside the <code class="highlighter-rouge">for-in</code> loop:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">distance</span> <span class="o">=</span> <span class="n">myPlane</span><span class="o">.</span><span class="nf">distanceTo</span><span class="p">(</span><span class="nv">target</span> <span class="p">:</span> <span class="kt">String</span><span class="p">)</span>
</code></pre></div></div>

<p>So to get the distance to display correctly we’ve got to look at the <code class="highlighter-rouge">distanceTo</code> function in our code (in <code class="highlighter-rouge">Aviatrix</code>).</p>

<h4 id="distanceto"><code class="highlighter-rouge">distanceTo</code></h4>

<p>If you look in <code class="highlighter-rouge">AviatrixData</code> you’ll see that the distances are in there, but how do we get to them?</p>

<p>First, we need to know where we are. By default, our plane starts in 
St. Louis. So for a first round, let’s assume that any distance being 
calculated is <em>from</em> St. Louis.</p>

<p>The distance from St. Louis to Phoenix is 1260 miles. You can see that number inside the <code class="highlighter-rouge">knownDistances</code> function of <code class="highlighter-rouge">AviatrixData</code>. To access this data, we could use the following code:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">knownDistances</span><span class="p">[</span><span class="s">"St. Louis"</span><span class="p">]</span><span class="o">!</span><span class="p">[</span><span class="s">"Phoenix"</span><span class="p">]</span><span class="o">!</span>
</code></pre></div></div>

<p>The <code class="highlighter-rouge">knownDistances</code> variable is a dictionary. <code class="highlighter-rouge">St. Louis</code> is a key in that dictionary. It points to a value which is <em>another</em> dictionary.</p>

<p><code class="highlighter-rouge">"Phoenix"</code> is a key in that second dictionary. It points to a value 1260, which is what we’re looking for.</p>

<p>So the code <code class="highlighter-rouge">knownDistances["St. Louis"]!["Phoenix"]!</code> gets us the distance between St. Louis and Phoenix. When we look at our <code class="highlighter-rouge">distanceTo</code> function we have an argument named <code class="highlighter-rouge">target</code> that is the city we’re heading to.</p>

<blockquote>
  <p>Write code in your <code class="highlighter-rouge">distanceTo</code> function that <strong>returns</strong> the distance between St. Louis and your <code class="highlighter-rouge">target</code>. Re-run the program and check the output you see in <code class="highlighter-rouge">main.swift</code> against the numbers in <code class="highlighter-rouge">AviatrixData</code>.</p>
</blockquote>

<h4 id="planning-for-the-future">Planning for the Future</h4>

<p>You probably ended up with a line of code that looked like this:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">return</span> <span class="n">data</span><span class="o">.</span><span class="n">knownDistances</span><span class="p">[</span><span class="s">"St. Louis"</span><span class="p">]</span><span class="o">!</span><span class="p">[</span><span class="n">target</span><span class="p">]</span><span class="o">!</span>
</code></pre></div></div>

<p>That’ll work great as long as our current location is St. Louis. But we’re about to start moving around.</p>

<blockquote>
  <p>How can you modify this line so that it works based on our <em>current</em> location?</p>
</blockquote>

<p>Stuck?</p>
<ul>
  <li>You will need a property in <code class="highlighter-rouge">Aviatrix</code> that holds a string with the current location. Let’s call this variable <code class="highlighter-rouge">location</code>.</li>
  <li>The <code class="highlighter-rouge">distanceTo</code> function 
needs to take another argument (the instance variable that holds the 
current location) so we don’t have to hard-code a certain city in.</li>
</ul>

<blockquote>
  <p>Now, let’s modify the line in <code class="highlighter-rouge">main.swift</code> that prints “You’re currently in <strong>__</strong>_” to print our actual current location.</p>
</blockquote>

<p><br></p>

<p>Once this is done, let’s update the message in <code class="highlighter-rouge">fly</code> in <code class="highlighter-rouge">main.swift</code> that says:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="s">"🛬 You've arrived in ________________!"</span><span class="p">)</span>
</code></pre></div></div>
<p>… so that it actually prints out the plane’s current location.</p>

<h4 id="results-1">Results</h4>

<p>When you’ve got it right and run your program, your fly menu will look like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Action: b

Where would you like to fly to?

0<span class="o">)</span> St. Louis <span class="o">(</span>0 miles<span class="o">)</span>
1<span class="o">)</span> Phoenix <span class="o">(</span>1260 miles<span class="o">)</span>
2<span class="o">)</span> Denver <span class="o">(</span>768 miles<span class="o">)</span>
3<span class="o">)</span> Salt Lake City <span class="o">(</span>1150 miles<span class="o">)</span>
</code></pre></div></div>

<p>Try flying to Denver – you’ll get this message: “🛬 You’ve arrived in
 St. Louis!” Hmm… I thought we just flew to Denver? Looks like we have 
some more work to do.</p>

<h3 id="flying">Flying</h3>

<p>We’re displaying the menu of destinations. We’re allowing the user to pick a destination. But our plane isn’t moving.</p>

<h4 id="understanding-mainswift">Understanding <code class="highlighter-rouge">main.swift</code></h4>

<p>Back in <code class="highlighter-rouge">main.swift</code> look at the <code class="highlighter-rouge">fly</code> function. Inside the <code class="highlighter-rouge">if</code> statement, you’ll find some lines that looks like this:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">desiredLocation</span> <span class="o">=</span> <span class="n">myPlane</span><span class="o">.</span><span class="nf">knownDestinations</span><span class="p">()[</span><span class="n">response</span><span class="o">!</span><span class="p">]</span>

<span class="c1">// more code in between</span>

<span class="n">myPlane</span><span class="o">.</span><span class="nf">flyTo</span><span class="p">(</span><span class="nv">destination</span><span class="p">:</span> <span class="n">desiredLocation</span><span class="p">)</span>
</code></pre></div></div>

<p>Let’s break that down:</p>

<ul>
  <li>The <code class="highlighter-rouge">response</code> here is the menu option number that the user typed in, like <code class="highlighter-rouge">2</code> for Denver</li>
  <li><code class="highlighter-rouge">knownDestinations</code> is an array, the return value from the function <code class="highlighter-rouge">knownDestinations</code> that we wrote in <code class="highlighter-rouge">Aviatrix</code></li>
  <li><code class="highlighter-rouge">knownDestinations()[response!]</code> when the <code class="highlighter-rouge">menu option number</code> is <code class="highlighter-rouge">2</code> is like <code class="highlighter-rouge">knownDestinations[2]</code> which picks out the string <code class="highlighter-rouge">"Denver"</code></li>
  <li>The <code class="highlighter-rouge">desiredLocation</code> variable will store a string, of the city that was selected by the user</li>
  <li>So when our instruction runs it’s really like <code class="highlighter-rouge">myPlane.flyTo("Denver")</code></li>
</ul>

<p>We’ll need to work on that <code class="highlighter-rouge">flyTo</code> function.</p>

<h4 id="flyto"><code class="highlighter-rouge">flyTo</code></h4>

<p>In Aviatrix, find the <code class="highlighter-rouge">flyTo</code> action/function. It looks like this:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">flyTo</span><span class="p">(</span><span class="nv">destination</span> <span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>

<span class="p">}</span>
</code></pre></div></div>

<p>The <code class="highlighter-rouge">destination</code> that comes in as an argument is the city name, like <code class="highlighter-rouge">"Denver"</code>.</p>

<blockquote>
  <p>Can you write one line here that stores that city that was passed in, into the plane’s <code class="highlighter-rouge">location</code> property on the class?</p>
</blockquote>

<p>Test it by running <code class="highlighter-rouge">main.swift</code> - hopefully you are in the correct city🤷‍♀️.</p>

<h4 id="location-update-in-gauges">Location Update in Gauges</h4>

<p>In <code class="highlighter-rouge">main.swift</code>, there is a <code class="highlighter-rouge">gauges</code> function that is just printing out some information when the user types in <code class="highlighter-rouge">a</code>. Uncomment the line that says:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">print</span><span class="p">(</span><span class="s">"| Location:  | </span><span class="se">\(</span><span class="n">myPlane</span><span class="o">.</span><span class="n">location</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
</code></pre></div></div>

<p>Now, run your program and type in <code class="highlighter-rouge">a</code>.</p>

<p><strong>NOTE:</strong> You will need to continue doing this as you 
create instance variables, and those instructions won’t be written into 
the lab🤓 You got this.</p>

<h2 id="what-weve-got">What We’ve Got</h2>

<h3 id="after-this-work-when-you-run-the-program">After this work, when you run the program:</h3>

<ul>
  <li>The <code class="highlighter-rouge">gauges</code> info that prints out is still mostly blank, but our <code class="highlighter-rouge">Location</code> is accurate</li>
  <li>Flying to a different city works and we can move from city to city</li>
  <li>Refueling doesn’t do anything yet</li>
</ul>

<h3 id="commit-your-changes">Commit Your Changes</h3>

<p>In your terminal, make sure you are still in the aviatrix directory. 
Add and commit your changes. Your commit message should be something 
like “Complete Iteration 1”.</p>

<p>Make sure your code before you move on to <a href="https://ameseee.github.io/kwk-curriculum-site/swift-ios/projects/aviatrix/i2">I2: Distances</a>.</p>

<p><br>
<br></p>

<h3 id="extension-dream-destinations">Extension: Dream Destinations</h3>

<p>Can you add a destination to the application? You’ll need to carefully change <code class="highlighter-rouge">AviatrixData</code>:</p>

<ul>
  <li>Make up a gas price and add it to the <code class="highlighter-rouge">fuelPrices</code> function</li>
  <li>The hard part is <code class="highlighter-rouge">knownDistances</code>.
 Your best bet is to carefully copy and paste one of the existing 
dictionaries. You’ll need to add your destination to each of the 
existing lists. Take extra care to add commas where needed!</li>
</ul>

<p>If you’d like to use realistic distances, you can <a href="http://www.webflyer.com/travel/mileage_calculator/">use this online air mileage calculator</a>.</p>

<p>If you get one new destination to work correctly, feel free to add a couple more!</p>

<h3 id="extension-order-cities-by-distance">Extension: Order Cities by Distance</h3>

<p>Was flying around too easy for you? How about a tricky challenge?</p>

<p>It would be nice if, when the program listed out the possible destinations, they were ordered by distance from the current city.</p>

<p>When we’re in St. Louis we would currently see:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Where would you like to fly to?

0<span class="o">)</span> St. Louis <span class="o">(</span>0 miles<span class="o">)</span>
1<span class="o">)</span> Phoenix <span class="o">(</span>1260 miles<span class="o">)</span>
2<span class="o">)</span> Denver <span class="o">(</span>768 miles<span class="o">)</span>
3<span class="o">)</span> Salt Lake City <span class="o">(</span>1150 miles<span class="o">)</span>
</code></pre></div></div>

<p>But if this ordering were in place we’d see:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Where would you like to fly to?

0<span class="o">)</span> St. Louis <span class="o">(</span>0 miles<span class="o">)</span>
1<span class="o">)</span> Denver <span class="o">(</span>768 miles<span class="o">)</span>
2<span class="o">)</span> Salt Lake City <span class="o">(</span>1150 miles<span class="o">)</span>
3<span class="o">)</span> Phoenix <span class="o">(</span>1260 miles<span class="o">)</span>
</code></pre></div></div>

<p>You’ll have to change code in <code class="highlighter-rouge">main.swift</code> to make this happen. Can you figure it out?</p>

        </article>
        
      </section>
    </div>
    <script async="" src="OliviaAviatrixI1_files/ei.js"></script>
    <script src="OliviaAviatrixI1_files/active-links.js"></script>
    <script src="OliviaAviatrixI1_files/drop-downs.js"></script>
    <script src="OliviaAviatrixI1_files/log.js"></script>
  

</body></html>